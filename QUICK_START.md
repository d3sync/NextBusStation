# Quick Start Guide

## Run the App in 3 Steps

### Step 1: Open the Solution
```
Double-click NextBusStation.sln in Visual Studio 2022
```

### Step 2: Select Android Target
- In the toolbar, select "Android Emulator" or your connected Android device
- Ensure the framework is set to `net10.0-android`

### Step 3: Run
- Press `F5` or click the green "Play" button
- Wait for the app to deploy and launch

## First Time Use

1. **Grant Location Permission**
   - When prompted, tap "Allow" for location access
   - This is required to find nearby bus stops

2. **Find Stops**
   - Tap the "Find Nearby Stops" button
   - The app will:
     - Get your current location
     - Query the OASA API
     - Show nearby stops in a list

3. **View Details**
   - Tap any stop to see:
     - Next bus arrivals (with countdown in minutes)
     - All routes serving that stop
     - The page auto-refreshes every 30 seconds

## Simulating Location (for testing outside Athens)

If you're not in Athens, you can mock the location:

### Android Emulator:
1. Open the emulator's "Extended Controls" (...)
2. Go to "Location"
3. Enter Athens coordinates:
   - Latitude: `37.9838`
   - Longitude: `23.7275`
4. Click "Send"

### Physical Device:
1. Enable Developer Options
2. In Developer Options, select "Mock location app"
3. Install a GPS spoofing app (e.g., "Fake GPS Location")
4. Set location to Athens

## Troubleshooting

### App crashes on location request
**Solution**: Check that location permissions are granted in Android Settings

### "No nearby stops found"
**Possible causes**:
- Not in Athens area ? Mock your location
- No internet connection ? Check wifi/data
- OASA API is down ? Try again later

### Build fails
**Solution**:
```bash
dotnet clean
dotnet restore
```
Then rebuild in Visual Studio

## Sample Stop Codes (for manual testing)

You can modify the code to test with these known Athens stop codes:
- `400075` - «”¡– Õ.÷¡À«—œ’
- `10183` - –≈…—¡…¡”
- `400058` - ¬≈Õ…∆≈Àœ’

## Development Tips

### Viewing Debug Output
- Open "Output" window in Visual Studio (View > Output)
- Select "Debug" from the dropdown
- You'll see API responses and error messages

### Testing Without GPS
Temporarily hardcode coordinates in `LocationService.cs`:
```csharp
public async Task<Location?> GetCurrentLocationAsync()
{
    // For testing only
    return new Location(37.9838, 23.7275);
}
```

### Increasing API Timeout
In `MauiProgram.cs`, you can adjust the HTTP timeout:
```csharp
builder.Services.AddHttpClient(client =>
{
    client.Timeout = TimeSpan.FromSeconds(60); // Increase from 30
});
```

## What You Should See

### MapPage (Initial Screen)
```
???????????????????????????????????
? Getting location...             ? ? Status bar
???????????????????????????????????
?                                 ?
?   (Empty state or list of stops)?
?                                 ?
?                                 ?
???????????????????????????????????
?    [Find Nearby Stops]          ? ? Button
???????????????????????????????????
```

### After Finding Stops
```
???????????????????????????????????
? Found 15 nearby stops           ?
???????????????????????????????????
? ??????????????????????????????? ?
? ? ISAP.N.FALIROY              ? ?
? ? «”¡– Õ.÷¡À«—œ’             ? ?
? ? Stop Code: 400075           ? ?
? ??????????????????????????????? ?
? ??????????????????????????????? ?
? ? VENIZELOY                   ? ?
? ? ¬≈Õ…∆≈Àœ’                   ? ?
? ? Stop Code: 400058           ? ?
? ??????????????????????????????? ?
???????????????????????????????????
```

### StopDetailsPage
```
???????????????????????????????????
? ISAP.N.FALIROY                  ?
? «”¡– Õ.÷¡À«—œ’                 ?
? Code: 400075                    ?
???????????????????????????????????
? 5 arrivals found                ?
???????????????????????????????????
? Next Arrivals                   ?
? ??????????????????????????????? ?
? ? Route: 2033         5 min   ? ?
? ??????????????????????????????? ?
? ??????????????????????????????? ?
? ? Route: 2005        12 min   ? ?
? ??????????????????????????????? ?
?                                 ?
? Routes at this stop             ?
? ??????????????????????????????? ?
? ? Line 130                    ? ?
? ? PEIRAIAS - NEA SMYRNI       ? ?
? ??????????????????????????????? ?
???????????????????????????????????
? [Refresh]        [Back]         ?
???????????????????????????????????
```

## Ready to Go!

Your app is fully functional and ready to use. Happy coding! ??
